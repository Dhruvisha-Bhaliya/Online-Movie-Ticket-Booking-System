<ui:composition template="/WEB-INF/templates/adminlayout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="jakarta.faces.html"
                xmlns:f="jakarta.faces.core"
                xmlns:ui="jakarta.faces.facelets">

    <ui:define name="title">Superadmin Dashboard</ui:define>

    <ui:define name="content">

        <div class="dashboard-container">

            <h2 class="dashboard-title">Superadmin Overview</h2>

            <!-- ===== SUMMARY CARDS ===== -->
            <div class="cards-row">

                <div class="card" onclick="location.href = '#{request.contextPath}/admin/add_user.xhtml'">
                    <div class="card-header">
                        <h3>Total Admin Users</h3>
                        <i class="fa fa-users card-icon"></i>
                    </div>
                    <p class="value"><h:outputText value="#{sDashBoardBean.totalAdmins}" /></p>
                </div>

                <div class="card" onclick="location.href = '#{request.contextPath}/admin/admin_movies.xhtml'"

                     >
                    <div class="card-header">
                        <h3>Total Movies</h3>
                        <i class="fa fa-film card-icon"></i>
                    </div>
                    <p class="value"><h:outputText value="#{sDashBoardBean.totalMovies}" /></p>
                </div>

                <div class="card" onclick="location.href = '#{request.contextPath}/admin/total_theaters.xhtml'">
                    <div class="card-header">
                        <h3>Total Theaters</h3>
                        <i class="fa fa-building card-icon"></i>
                    </div>
                    <p class="value"><h:outputText value="#{sDashBoardBean.totalTheaters}" /></p>
                </div>

                <div class="card" onclick="location.href = '#{request.contextPath}/admin/admin_screens.xhtml'">
                    <div class="card-header">
                        <h3>Total Screens</h3>
                        <i class="fa fa-tv card-icon"></i>
                    </div>
                    <p class="value"><h:outputText value="#{sDashBoardBean.totalScreens}" /></p>
                </div>

            </div>


            <!-- ===== RECENT ADMINS (NEW MODULE) ===== -->
            <div class="recent-admins-box">

                <h3 class="box-title">Recently Added Admins</h3>

                <div class="admin-list">

                    <ui:repeat value="#{sDashBoardBean.recentAdmins}" var="admin">

                        <div class="admin-row">
                            <div class="admin-avatar">
                                <h:outputText value="#{admin.username.charAt(0)}" />
                            </div>

                            <div class="admin-info">
                                <p class="admin-name"><h:outputText value="#{admin.username}" /></p>
                                <p class="admin-role"><h:outputText value="#{admin.role.role}" /></p>
                            </div>
                        </div>

                    </ui:repeat>

                </div>

            </div>

            <!-- ===== QUICK ACTION BUTTONS ===== -->

        </div>



        <!-- ===== CSS IMPROVED ===== -->
        <style>

            html, body {
                height: 100%;
                overflow: hidden !important;
                font-family: 'Segoe UI', Arial, sans-serif;
                background: #f3f4f6;
            }

            .dashboard-container {
                padding: 20px 25px;
                height: calc(100vh - 80px);
                box-sizing: border-box;
            }

            .dashboard-title {
                font-size: 26px;
                font-weight: 700;
                margin-bottom: 20px;
                color: #2d3436;
            }


            /* ===== SUMMARY CARDS ===== */
            .cards-row {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
                gap: 20px;
                margin-bottom: 25px;
            }

            .card {
                background: white;
                padding: 20px;
                border-radius: 12px;
                border-left: 5px solid #4e73df;
                box-shadow: 0px 3px 10px rgba(0,0,0,0.1);
                cursor: pointer;
                transition: 0.25s;
            }

            .card:hover {
                transform: translateY(-4px);
                box-shadow: 0px 5px 16px rgba(0,0,0,0.15);
            }

            .card-header {
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 10px;
            }

            .card h3 {
                margin: 0;
                font-size: 15px;
                color: #555;
                font-weight: 600;
            }

            .card-icon {
                font-size: 26px;
                color: #4e73df;
            }

            .value {
                font-size: 30px;
                margin: 0;
                font-weight: bold;
                color: #1f3bb3;
            }


            /* ===== RECENT ADMINS BOX ===== */
            .recent-admins-box {
                background: white;
                border-radius: 12px;
                padding: 20px;
                box-shadow: 0px 3px 10px rgba(0,0,0,0.1);
                margin-bottom: 25px;
            }

            .box-title {
                margin: 0 0 12px 0;
                font-size: 18px;
                font-weight: 600;
                color: #2d3436;
            }

            .admin-list {
                max-height: 150px;
                overflow-y: auto;
            }

            .admin-row {
                display: flex;
                align-items: center;
                padding: 8px 0;
                border-bottom: 1px solid #eee;
            }

            .admin-avatar {
                width: 40px;
                height: 40px;
                border-radius: 50%;
                background: #4e73df;
                color: white;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 18px;
                margin-right: 10px;
            }

            .admin-name {
                margin: 0;
                font-size: 15px;
                font-weight: 500;
            }

            .admin-role {
                margin: 0;
                font-size: 12px;
                color: #777;
            }


            /* ===== QUICK ACTIONS ===== */
            .quick-actions {
                display: flex;
                flex-wrap: wrap;
                gap: 12px;
            }

            .action-btn {
                background: #1cc88a;
                color: white;
                padding: 12px 20px;
                font-size: 15px;
                border-radius: 8px;
                border: none;
                cursor: pointer;
                font-weight: 600;
                transition: 0.25s;
            }

            .action-btn:hover {
                background: #17a673;
                transform: translateY(-2px);
            }

        </style>

    </ui:define>
</ui:composition>
